{"version":3,"sources":["/Users/liuyang/projects/ringtone_new/node_modules/tinymce/plugins/fullscreen/index.js","/Users/liuyang/projects/ringtone_new/node_modules/tinymce/plugins/fullscreen/plugin.js"],"names":["Cell","initial","value","get","set","v","global","tinymce","util","Tools","resolve","isType","type","t","x","Array","prototype","isPrototypeOf","constructor","name","String","isSimpleType","isString","isArray","isBoolean","isNonNullable","a","isNullable","isFunction","isNumber","noop","constant","curry","fn","initialArgs","_i","arguments","length","restArgs","all","concat","apply","eq","call","id","never","always","none","NONE","o","isNone","fold","n","_s","is","isSome","getOr","getOrThunk","thunk","getOrDie","msg","Error","getOrNull","getOrUndefined","undefined","or","orThunk","map","each","bind","exists","forall","filter","equals","equals_","toArray","toString","some","constant_a","self","me","f","s","elementEq","b","Optional","from","unbindable","doRevoke","unbind","subject","revoke","clear","isSet","nativePush","push","xs","len","r","i","pred","keys","Object","isSupported","dom","style","getPropertyValue","fromDom","node","SugarElement","isType$1","window","Function","element","nodeType","isElement","isText","isDocument","isDocumentFragment","selector","elem","matches","msMatchesSelector","webkitMatchesSelector","mozMatchesSelector","owner","ownerDocument","children","childNodes","supported","Element","attachShadow","Node","getRootNode","isSupported$1","e","dos","getShadowRoot","host","getShadowHost","inBody","parentNode","fbc","fab","doc","body","contains","get$2","key","getAttribute","remove","removeAttribute","setAll","css","obj","props","k","each$1","property","console","error","setProperty","internalSet","fromRawEvent","rawEvent","fa","fb","target","event","el","shadowRoot","composed","composedPath","get$1","getOriginalEventTarget","stop","stopPropagation","prevent","preventDefault","kill","args","y","raw","mkEvent","clientX","clientY","handler","useCapture","removeEventListener","filter$1","bind$2","wrapped","handle","addEventListener","binder","bind$1","left","top","translate","SugarPosition","get$5","_win","win","bounds","width","height","right","bottom","getBounds","document","scroll","_DOC","scrollLeft","documentElement","scrollTop","get$4","html","clientWidth","clientHeight","visualViewport","Math","max","pageLeft","pageTop","bind$3","callback","global$1","global$2","global$3","fireFullscreenStateChanged","editor","state","fire","getFullscreenNative","getParam","isFullscreenElement","root","fullscreenElement","msFullscreenElement","webkitFullscreenElement","ancestors$1","scope","isRoot","predicate","ret","rawParent","p","parents","ancestors","siblings$2","parent","elements","e2","siblings$1","attr","ancestorPosition","ancestorStyles","isAndroid","os","matchColor","editorBody","color","getComputedStyle","getUnsafeProperty","get$3","DOM","viewportUpdate","editorContainer","on","resizeBinder","scrollBinder","update","throttle","requestAnimationFrame","container","offsetTop","offsetLeft","toggleFullscreen","fullscreenState","pos","vp","getContainer","editorContainerS","fullscreenRoot","getElement","getBody","getFullscreenRoot","fullscreenInfo","isTouch","deviceType","editorContainerStyle","iframeStyle","iframeElement","handleClasses","cleanup","clobberedEls","base","childElementCount","querySelectorAll","restore","parseStyle","removeClass","info","fullscreenChangeHandler","exitFullscreen","msExitFullscreen","webkitCancelFullScreen","iframeWidth","iframeHeight","containerWidth","containerHeight","containerTop","containerLeft","scrollPos","scrollTo","off","_evt","newFullScreenInfo","clobber","clobberStyle","styles","backup","trim","setAttribute","rawSet","siblings","flatten","bgColor","clobberStyles","addClass","requestFullscreen","msRequestFullscreen","webkitRequestFullScreen","makeSetupHandler","api","setActive","editorEventCallback","add","inline","addCommand","register","ui","registry","addToggleMenuItem","text","icon","shortcut","onAction","execCommand","onSetup","addToggleButton","tooltip","register$1","addShortcut","isFullscreen"],"mappings":"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","file":"80.f563b84a.chunk.js","sourcesContent":["// Exports the \"fullscreen\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/fullscreen')\n//   ES2015:\n//     import 'tinymce/plugins/fullscreen'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.8.1 (2021-05-20)\n */\n(function () {\n    'use strict';\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      return {\n        get: get,\n        set: set\n      };\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var get = function (fullscreenState) {\n      return {\n        isFullscreen: function () {\n          return fullscreenState.get() !== null;\n        }\n      };\n    };\n\n    var typeOf = function (x) {\n      var t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      } else if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    var isType = function (type) {\n      return function (value) {\n        return typeOf(value) === type;\n      };\n    };\n    var isSimpleType = function (type) {\n      return function (value) {\n        return typeof value === type;\n      };\n    };\n    var isString = isType('string');\n    var isArray = isType('array');\n    var isBoolean = isSimpleType('boolean');\n    var isNullable = function (a) {\n      return a === null || a === undefined;\n    };\n    var isNonNullable = function (a) {\n      return !isNullable(a);\n    };\n    var isFunction = isSimpleType('function');\n    var isNumber = isSimpleType('number');\n\n    var noop = function () {\n    };\n    var compose = function (fa, fb) {\n      return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        return fa(fb.apply(null, args));\n      };\n    };\n    var compose1 = function (fbc, fab) {\n      return function (a) {\n        return fbc(fab(a));\n      };\n    };\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    function curry(fn) {\n      var initialArgs = [];\n      for (var _i = 1; _i < arguments.length; _i++) {\n        initialArgs[_i - 1] = arguments[_i];\n      }\n      return function () {\n        var restArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          restArgs[_i] = arguments[_i];\n        }\n        var all = initialArgs.concat(restArgs);\n        return fn.apply(null, all);\n      };\n    }\n    var never = constant(false);\n    var always = constant(true);\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var eq = function (o) {\n        return o.isNone();\n      };\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = function (n) {\n        return n;\n      };\n      var me = {\n        fold: function (n, _s) {\n          return n();\n        },\n        is: never,\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant(null),\n        getOrUndefined: constant(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: none,\n        equals: eq,\n        equals_: eq,\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        is: function (v) {\n          return a === v;\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        },\n        equals: function (o) {\n          return o.is(a);\n        },\n        equals_: function (o, elementEq) {\n          return o.fold(never, function (b) {\n            return elementEq(a, b);\n          });\n        }\n      };\n      return me;\n    };\n    var from = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Optional = {\n      some: some,\n      none: none,\n      from: from\n    };\n\n    var revocable = function (doRevoke) {\n      var subject = Cell(Optional.none());\n      var revoke = function () {\n        return subject.get().each(doRevoke);\n      };\n      var clear = function () {\n        revoke();\n        subject.set(Optional.none());\n      };\n      var isSet = function () {\n        return subject.get().isSome();\n      };\n      var set = function (s) {\n        revoke();\n        subject.set(Optional.some(s));\n      };\n      return {\n        clear: clear,\n        isSet: isSet,\n        set: set\n      };\n    };\n    var unbindable = function () {\n      return revocable(function (s) {\n        return s.unbind();\n      });\n    };\n    var value = function () {\n      var subject = Cell(Optional.none());\n      var clear = function () {\n        return subject.set(Optional.none());\n      };\n      var set = function (s) {\n        return subject.set(Optional.some(s));\n      };\n      var isSet = function () {\n        return subject.get().isSome();\n      };\n      var on = function (f) {\n        return subject.get().each(f);\n      };\n      return {\n        clear: clear,\n        set: set,\n        isSet: isSet,\n        on: on\n      };\n    };\n\n    var nativePush = Array.prototype.push;\n    var map = function (xs, f) {\n      var len = xs.length;\n      var r = new Array(len);\n      for (var i = 0; i < len; i++) {\n        var x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    var each = function (xs, f) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var filter = function (xs, pred) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    var flatten = function (xs) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    var bind = function (xs, f) {\n      return flatten(map(xs, f));\n    };\n    var get$1 = function (xs, i) {\n      return i >= 0 && i < xs.length ? Optional.some(xs[i]) : Optional.none();\n    };\n    var head = function (xs) {\n      return get$1(xs, 0);\n    };\n\n    var keys = Object.keys;\n    var each$1 = function (obj, f) {\n      var props = keys(obj);\n      for (var k = 0, len = props.length; k < len; k++) {\n        var i = props[k];\n        var x = obj[i];\n        f(x, i);\n      }\n    };\n\n    var isSupported = function (dom) {\n      return dom.style !== undefined && isFunction(dom.style.getPropertyValue);\n    };\n\n    var fromHtml = function (html, scope) {\n      var doc = scope || document;\n      var div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        console.error('HTML does not have a single root node', html);\n        throw new Error('HTML must have a single root node');\n      }\n      return fromDom(div.childNodes[0]);\n    };\n    var fromTag = function (tag, scope) {\n      var doc = scope || document;\n      var node = doc.createElement(tag);\n      return fromDom(node);\n    };\n    var fromText = function (text, scope) {\n      var doc = scope || document;\n      var node = doc.createTextNode(text);\n      return fromDom(node);\n    };\n    var fromDom = function (node) {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    var fromPoint = function (docElm, x, y) {\n      return Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom);\n    };\n    var SugarElement = {\n      fromHtml: fromHtml,\n      fromTag: fromTag,\n      fromText: fromText,\n      fromDom: fromDom,\n      fromPoint: fromPoint\n    };\n\n    var Global = typeof window !== 'undefined' ? window : Function('return this;')();\n\n    var DOCUMENT = 9;\n    var DOCUMENT_FRAGMENT = 11;\n    var ELEMENT = 1;\n    var TEXT = 3;\n\n    var type = function (element) {\n      return element.dom.nodeType;\n    };\n    var isType$1 = function (t) {\n      return function (element) {\n        return type(element) === t;\n      };\n    };\n    var isElement = isType$1(ELEMENT);\n    var isText = isType$1(TEXT);\n    var isDocument = isType$1(DOCUMENT);\n    var isDocumentFragment = isType$1(DOCUMENT_FRAGMENT);\n\n    var is = function (element, selector) {\n      var dom = element.dom;\n      if (dom.nodeType !== ELEMENT) {\n        return false;\n      } else {\n        var elem = dom;\n        if (elem.matches !== undefined) {\n          return elem.matches(selector);\n        } else if (elem.msMatchesSelector !== undefined) {\n          return elem.msMatchesSelector(selector);\n        } else if (elem.webkitMatchesSelector !== undefined) {\n          return elem.webkitMatchesSelector(selector);\n        } else if (elem.mozMatchesSelector !== undefined) {\n          return elem.mozMatchesSelector(selector);\n        } else {\n          throw new Error('Browser lacks native selectors');\n        }\n      }\n    };\n    var bypassSelector = function (dom) {\n      return dom.nodeType !== ELEMENT && dom.nodeType !== DOCUMENT && dom.nodeType !== DOCUMENT_FRAGMENT || dom.childElementCount === 0;\n    };\n    var all = function (selector, scope) {\n      var base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? [] : map(base.querySelectorAll(selector), SugarElement.fromDom);\n    };\n\n    var eq = function (e1, e2) {\n      return e1.dom === e2.dom;\n    };\n\n    var owner = function (element) {\n      return SugarElement.fromDom(element.dom.ownerDocument);\n    };\n    var documentOrOwner = function (dos) {\n      return isDocument(dos) ? dos : owner(dos);\n    };\n    var parent = function (element) {\n      return Optional.from(element.dom.parentNode).map(SugarElement.fromDom);\n    };\n    var parents = function (element, isRoot) {\n      var stop = isFunction(isRoot) ? isRoot : never;\n      var dom = element.dom;\n      var ret = [];\n      while (dom.parentNode !== null && dom.parentNode !== undefined) {\n        var rawParent = dom.parentNode;\n        var p = SugarElement.fromDom(rawParent);\n        ret.push(p);\n        if (stop(p) === true) {\n          break;\n        } else {\n          dom = rawParent;\n        }\n      }\n      return ret;\n    };\n    var siblings = function (element) {\n      var filterSelf = function (elements) {\n        return filter(elements, function (x) {\n          return !eq(element, x);\n        });\n      };\n      return parent(element).map(children).map(filterSelf).getOr([]);\n    };\n    var children = function (element) {\n      return map(element.dom.childNodes, SugarElement.fromDom);\n    };\n\n    var isShadowRoot = function (dos) {\n      return isDocumentFragment(dos) && isNonNullable(dos.dom.host);\n    };\n    var supported = isFunction(Element.prototype.attachShadow) && isFunction(Node.prototype.getRootNode);\n    var isSupported$1 = constant(supported);\n    var getRootNode = supported ? function (e) {\n      return SugarElement.fromDom(e.dom.getRootNode());\n    } : documentOrOwner;\n    var getShadowRoot = function (e) {\n      var r = getRootNode(e);\n      return isShadowRoot(r) ? Optional.some(r) : Optional.none();\n    };\n    var getShadowHost = function (e) {\n      return SugarElement.fromDom(e.dom.host);\n    };\n    var getOriginalEventTarget = function (event) {\n      if (isSupported$1() && isNonNullable(event.target)) {\n        var el = SugarElement.fromDom(event.target);\n        if (isElement(el) && isOpenShadowHost(el)) {\n          if (event.composed && event.composedPath) {\n            var composedPath = event.composedPath();\n            if (composedPath) {\n              return head(composedPath);\n            }\n          }\n        }\n      }\n      return Optional.from(event.target);\n    };\n    var isOpenShadowHost = function (element) {\n      return isNonNullable(element.dom.shadowRoot);\n    };\n\n    var inBody = function (element) {\n      var dom = isText(element) ? element.dom.parentNode : element.dom;\n      if (dom === undefined || dom === null || dom.ownerDocument === null) {\n        return false;\n      }\n      var doc = dom.ownerDocument;\n      return getShadowRoot(SugarElement.fromDom(dom)).fold(function () {\n        return doc.body.contains(dom);\n      }, compose1(inBody, getShadowHost));\n    };\n    var getBody = function (doc) {\n      var b = doc.dom.body;\n      if (b === null || b === undefined) {\n        throw new Error('Body is not available yet');\n      }\n      return SugarElement.fromDom(b);\n    };\n\n    var rawSet = function (dom, key, value) {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    var set = function (element, key, value) {\n      rawSet(element.dom, key, value);\n    };\n    var get$2 = function (element, key) {\n      var v = element.dom.getAttribute(key);\n      return v === null ? undefined : v;\n    };\n    var remove = function (element, key) {\n      element.dom.removeAttribute(key);\n    };\n\n    var internalSet = function (dom, property, value) {\n      if (!isString(value)) {\n        console.error('Invalid call to CSS.set. Property ', property, ':: Value ', value, ':: Element ', dom);\n        throw new Error('CSS value must be a string: ' + value);\n      }\n      if (isSupported(dom)) {\n        dom.style.setProperty(property, value);\n      }\n    };\n    var setAll = function (element, css) {\n      var dom = element.dom;\n      each$1(css, function (v, k) {\n        internalSet(dom, k, v);\n      });\n    };\n    var get$3 = function (element, property) {\n      var dom = element.dom;\n      var styles = window.getComputedStyle(dom);\n      var r = styles.getPropertyValue(property);\n      return r === '' && !inBody(element) ? getUnsafeProperty(dom, property) : r;\n    };\n    var getUnsafeProperty = function (dom, property) {\n      return isSupported(dom) ? dom.style.getPropertyValue(property) : '';\n    };\n\n    var mkEvent = function (target, x, y, stop, prevent, kill, raw) {\n      return {\n        target: target,\n        x: x,\n        y: y,\n        stop: stop,\n        prevent: prevent,\n        kill: kill,\n        raw: raw\n      };\n    };\n    var fromRawEvent = function (rawEvent) {\n      var target = SugarElement.fromDom(getOriginalEventTarget(rawEvent).getOr(rawEvent.target));\n      var stop = function () {\n        return rawEvent.stopPropagation();\n      };\n      var prevent = function () {\n        return rawEvent.preventDefault();\n      };\n      var kill = compose(prevent, stop);\n      return mkEvent(target, rawEvent.clientX, rawEvent.clientY, stop, prevent, kill, rawEvent);\n    };\n    var handle = function (filter, handler) {\n      return function (rawEvent) {\n        if (filter(rawEvent)) {\n          handler(fromRawEvent(rawEvent));\n        }\n      };\n    };\n    var binder = function (element, event, filter, handler, useCapture) {\n      var wrapped = handle(filter, handler);\n      element.dom.addEventListener(event, wrapped, useCapture);\n      return { unbind: curry(unbind, element, event, wrapped, useCapture) };\n    };\n    var bind$1 = function (element, event, filter, handler) {\n      return binder(element, event, filter, handler, false);\n    };\n    var unbind = function (element, event, handler, useCapture) {\n      element.dom.removeEventListener(event, handler, useCapture);\n    };\n\n    var filter$1 = always;\n    var bind$2 = function (element, event, handler) {\n      return bind$1(element, event, filter$1, handler);\n    };\n\n    var r = function (left, top) {\n      var translate = function (x, y) {\n        return r(left + x, top + y);\n      };\n      return {\n        left: left,\n        top: top,\n        translate: translate\n      };\n    };\n    var SugarPosition = r;\n\n    var get$4 = function (_DOC) {\n      var doc = _DOC !== undefined ? _DOC.dom : document;\n      var x = doc.body.scrollLeft || doc.documentElement.scrollLeft;\n      var y = doc.body.scrollTop || doc.documentElement.scrollTop;\n      return SugarPosition(x, y);\n    };\n\n    var get$5 = function (_win) {\n      var win = _win === undefined ? window : _win;\n      return Optional.from(win['visualViewport']);\n    };\n    var bounds = function (x, y, width, height) {\n      return {\n        x: x,\n        y: y,\n        width: width,\n        height: height,\n        right: x + width,\n        bottom: y + height\n      };\n    };\n    var getBounds = function (_win) {\n      var win = _win === undefined ? window : _win;\n      var doc = win.document;\n      var scroll = get$4(SugarElement.fromDom(doc));\n      return get$5(win).fold(function () {\n        var html = win.document.documentElement;\n        var width = html.clientWidth;\n        var height = html.clientHeight;\n        return bounds(scroll.left, scroll.top, width, height);\n      }, function (visualViewport) {\n        return bounds(Math.max(visualViewport.pageLeft, scroll.left), Math.max(visualViewport.pageTop, scroll.top), visualViewport.width, visualViewport.height);\n      });\n    };\n    var bind$3 = function (name, callback, _win) {\n      return get$5(_win).map(function (visualViewport) {\n        var handler = function (e) {\n          return callback(fromRawEvent(e));\n        };\n        visualViewport.addEventListener(name, handler);\n        return {\n          unbind: function () {\n            return visualViewport.removeEventListener(name, handler);\n          }\n        };\n      }).getOrThunk(function () {\n        return { unbind: noop };\n      });\n    };\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n    var fireFullscreenStateChanged = function (editor, state) {\n      editor.fire('FullscreenStateChanged', { state: state });\n    };\n\n    var getFullscreenNative = function (editor) {\n      return editor.getParam('fullscreen_native', false, 'boolean');\n    };\n\n    var getFullscreenRoot = function (editor) {\n      var elem = SugarElement.fromDom(editor.getElement());\n      return getShadowRoot(elem).map(getShadowHost).getOrThunk(function () {\n        return getBody(owner(elem));\n      });\n    };\n    var getFullscreenElement = function (root) {\n      if (root.fullscreenElement !== undefined) {\n        return root.fullscreenElement;\n      } else if (root.msFullscreenElement !== undefined) {\n        return root.msFullscreenElement;\n      } else if (root.webkitFullscreenElement !== undefined) {\n        return root.webkitFullscreenElement;\n      } else {\n        return null;\n      }\n    };\n    var getFullscreenchangeEventName = function () {\n      if (document.fullscreenElement !== undefined) {\n        return 'fullscreenchange';\n      } else if (document.msFullscreenElement !== undefined) {\n        return 'MSFullscreenChange';\n      } else if (document.webkitFullscreenElement !== undefined) {\n        return 'webkitfullscreenchange';\n      } else {\n        return 'fullscreenchange';\n      }\n    };\n    var requestFullscreen = function (sugarElem) {\n      var elem = sugarElem.dom;\n      if (elem.requestFullscreen) {\n        elem.requestFullscreen();\n      } else if (elem.msRequestFullscreen) {\n        elem.msRequestFullscreen();\n      } else if (elem.webkitRequestFullScreen) {\n        elem.webkitRequestFullScreen();\n      }\n    };\n    var exitFullscreen = function (sugarDoc) {\n      var doc = sugarDoc.dom;\n      if (doc.exitFullscreen) {\n        doc.exitFullscreen();\n      } else if (doc.msExitFullscreen) {\n        doc.msExitFullscreen();\n      } else if (doc.webkitCancelFullScreen) {\n        doc.webkitCancelFullScreen();\n      }\n    };\n    var isFullscreenElement = function (elem) {\n      return elem.dom === getFullscreenElement(owner(elem).dom);\n    };\n\n    var ancestors = function (scope, predicate, isRoot) {\n      return filter(parents(scope, isRoot), predicate);\n    };\n    var siblings$1 = function (scope, predicate) {\n      return filter(siblings(scope), predicate);\n    };\n\n    var all$1 = function (selector) {\n      return all(selector);\n    };\n    var ancestors$1 = function (scope, selector, isRoot) {\n      return ancestors(scope, function (e) {\n        return is(e, selector);\n      }, isRoot);\n    };\n    var siblings$2 = function (scope, selector) {\n      return siblings$1(scope, function (e) {\n        return is(e, selector);\n      });\n    };\n\n    var attr = 'data-ephox-mobile-fullscreen-style';\n    var siblingStyles = 'display:none!important;';\n    var ancestorPosition = 'position:absolute!important;';\n    var ancestorStyles = 'top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;';\n    var bgFallback = 'background-color:rgb(255,255,255)!important;';\n    var isAndroid = global$2.os.isAndroid();\n    var matchColor = function (editorBody) {\n      var color = get$3(editorBody, 'background-color');\n      return color !== undefined && color !== '' ? 'background-color:' + color + '!important' : bgFallback;\n    };\n    var clobberStyles = function (dom, container, editorBody) {\n      var gatherSiblings = function (element) {\n        return siblings$2(element, '*:not(.tox-silver-sink)');\n      };\n      var clobber = function (clobberStyle) {\n        return function (element) {\n          var styles = get$2(element, 'style');\n          var backup = styles === undefined ? 'no-styles' : styles.trim();\n          if (backup === clobberStyle) {\n            return;\n          } else {\n            set(element, attr, backup);\n            setAll(element, dom.parseStyle(clobberStyle));\n          }\n        };\n      };\n      var ancestors = ancestors$1(container, '*');\n      var siblings = bind(ancestors, gatherSiblings);\n      var bgColor = matchColor(editorBody);\n      each(siblings, clobber(siblingStyles));\n      each(ancestors, clobber(ancestorPosition + ancestorStyles + bgColor));\n      var containerStyles = isAndroid === true ? '' : ancestorPosition;\n      clobber(containerStyles + ancestorStyles + bgColor)(container);\n    };\n    var restoreStyles = function (dom) {\n      var clobberedEls = all$1('[' + attr + ']');\n      each(clobberedEls, function (element) {\n        var restore = get$2(element, attr);\n        if (restore !== 'no-styles') {\n          setAll(element, dom.parseStyle(restore));\n        } else {\n          remove(element, 'style');\n        }\n        remove(element, attr);\n      });\n    };\n\n    var DOM = global$1.DOM;\n    var getScrollPos = function () {\n      var vp = getBounds(window);\n      return {\n        x: vp.x,\n        y: vp.y\n      };\n    };\n    var setScrollPos = function (pos) {\n      window.scrollTo(pos.x, pos.y);\n    };\n    var viewportUpdate = get$5().fold(function () {\n      return {\n        bind: noop,\n        unbind: noop\n      };\n    }, function (visualViewport) {\n      var editorContainer = value();\n      var resizeBinder = unbindable();\n      var scrollBinder = unbindable();\n      var refreshScroll = function () {\n        document.body.scrollTop = 0;\n        document.documentElement.scrollTop = 0;\n      };\n      var refreshVisualViewport = function () {\n        window.requestAnimationFrame(function () {\n          editorContainer.on(function (container) {\n            return setAll(container, {\n              top: visualViewport.offsetTop + 'px',\n              left: visualViewport.offsetLeft + 'px',\n              height: visualViewport.height + 'px',\n              width: visualViewport.width + 'px'\n            });\n          });\n        });\n      };\n      var update = global$3.throttle(function () {\n        refreshScroll();\n        refreshVisualViewport();\n      }, 50);\n      var bind = function (element) {\n        editorContainer.set(element);\n        update();\n        resizeBinder.set(bind$3('resize', update));\n        scrollBinder.set(bind$3('scroll', update));\n      };\n      var unbind = function () {\n        editorContainer.on(function () {\n          resizeBinder.clear();\n          scrollBinder.clear();\n        });\n        editorContainer.clear();\n      };\n      return {\n        bind: bind,\n        unbind: unbind\n      };\n    });\n    var toggleFullscreen = function (editor, fullscreenState) {\n      var body = document.body;\n      var documentElement = document.documentElement;\n      var editorContainer = editor.getContainer();\n      var editorContainerS = SugarElement.fromDom(editorContainer);\n      var fullscreenRoot = getFullscreenRoot(editor);\n      var fullscreenInfo = fullscreenState.get();\n      var editorBody = SugarElement.fromDom(editor.getBody());\n      var isTouch = global$2.deviceType.isTouch();\n      var editorContainerStyle = editorContainer.style;\n      var iframe = editor.iframeElement;\n      var iframeStyle = iframe.style;\n      var handleClasses = function (handler) {\n        handler(body, 'tox-fullscreen');\n        handler(documentElement, 'tox-fullscreen');\n        handler(editorContainer, 'tox-fullscreen');\n        getShadowRoot(editorContainerS).map(function (root) {\n          return getShadowHost(root).dom;\n        }).each(function (host) {\n          handler(host, 'tox-fullscreen');\n          handler(host, 'tox-shadowhost');\n        });\n      };\n      var cleanup = function () {\n        if (isTouch) {\n          restoreStyles(editor.dom);\n        }\n        handleClasses(DOM.removeClass);\n        viewportUpdate.unbind();\n        Optional.from(fullscreenState.get()).each(function (info) {\n          return info.fullscreenChangeHandler.unbind();\n        });\n      };\n      if (!fullscreenInfo) {\n        var fullscreenChangeHandler = bind$2(owner(fullscreenRoot), getFullscreenchangeEventName(), function (_evt) {\n          if (getFullscreenNative(editor)) {\n            if (!isFullscreenElement(fullscreenRoot) && fullscreenState.get() !== null) {\n              toggleFullscreen(editor, fullscreenState);\n            }\n          }\n        });\n        var newFullScreenInfo = {\n          scrollPos: getScrollPos(),\n          containerWidth: editorContainerStyle.width,\n          containerHeight: editorContainerStyle.height,\n          containerTop: editorContainerStyle.top,\n          containerLeft: editorContainerStyle.left,\n          iframeWidth: iframeStyle.width,\n          iframeHeight: iframeStyle.height,\n          fullscreenChangeHandler: fullscreenChangeHandler\n        };\n        if (isTouch) {\n          clobberStyles(editor.dom, editorContainerS, editorBody);\n        }\n        iframeStyle.width = iframeStyle.height = '100%';\n        editorContainerStyle.width = editorContainerStyle.height = '';\n        handleClasses(DOM.addClass);\n        viewportUpdate.bind(editorContainerS);\n        editor.on('remove', cleanup);\n        fullscreenState.set(newFullScreenInfo);\n        if (getFullscreenNative(editor)) {\n          requestFullscreen(fullscreenRoot);\n        }\n        fireFullscreenStateChanged(editor, true);\n      } else {\n        fullscreenInfo.fullscreenChangeHandler.unbind();\n        if (getFullscreenNative(editor) && isFullscreenElement(fullscreenRoot)) {\n          exitFullscreen(owner(fullscreenRoot));\n        }\n        iframeStyle.width = fullscreenInfo.iframeWidth;\n        iframeStyle.height = fullscreenInfo.iframeHeight;\n        editorContainerStyle.width = fullscreenInfo.containerWidth;\n        editorContainerStyle.height = fullscreenInfo.containerHeight;\n        editorContainerStyle.top = fullscreenInfo.containerTop;\n        editorContainerStyle.left = fullscreenInfo.containerLeft;\n        setScrollPos(fullscreenInfo.scrollPos);\n        fullscreenState.set(null);\n        fireFullscreenStateChanged(editor, false);\n        cleanup();\n        editor.off('remove', cleanup);\n      }\n    };\n\n    var register = function (editor, fullscreenState) {\n      editor.addCommand('mceFullScreen', function () {\n        toggleFullscreen(editor, fullscreenState);\n      });\n    };\n\n    var makeSetupHandler = function (editor, fullscreenState) {\n      return function (api) {\n        api.setActive(fullscreenState.get() !== null);\n        var editorEventCallback = function (e) {\n          return api.setActive(e.state);\n        };\n        editor.on('FullscreenStateChanged', editorEventCallback);\n        return function () {\n          return editor.off('FullscreenStateChanged', editorEventCallback);\n        };\n      };\n    };\n    var register$1 = function (editor, fullscreenState) {\n      editor.ui.registry.addToggleMenuItem('fullscreen', {\n        text: 'Fullscreen',\n        icon: 'fullscreen',\n        shortcut: 'Meta+Shift+F',\n        onAction: function () {\n          return editor.execCommand('mceFullScreen');\n        },\n        onSetup: makeSetupHandler(editor, fullscreenState)\n      });\n      editor.ui.registry.addToggleButton('fullscreen', {\n        tooltip: 'Fullscreen',\n        icon: 'fullscreen',\n        onAction: function () {\n          return editor.execCommand('mceFullScreen');\n        },\n        onSetup: makeSetupHandler(editor, fullscreenState)\n      });\n    };\n\n    function Plugin () {\n      global.add('fullscreen', function (editor) {\n        var fullscreenState = Cell(null);\n        if (editor.inline) {\n          return get(fullscreenState);\n        }\n        register(editor, fullscreenState);\n        register$1(editor, fullscreenState);\n        editor.addShortcut('Meta+Shift+F', '', 'mceFullScreen');\n        return get(fullscreenState);\n      });\n    }\n\n    Plugin();\n\n}());\n"],"sourceRoot":""}