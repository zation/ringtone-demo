{"version":3,"sources":["/Users/liuyang/projects/ringtone_new/node_modules/tinymce/plugins/paste/index.js","/Users/liuyang/projects/ringtone_new/node_modules/tinymce/plugins/paste/plugin.js"],"names":["eq","call","id","count","Cell","initial","value","get","set","v","global","tinymce","util","Tools","resolve","isNonNullable","a","isNullable","isFunction","noop","constant","never","always","none","NONE","o","isNone","fold","n","_s","is","isSome","getOr","getOrThunk","thunk","getOrDie","msg","Error","getOrNull","getOrUndefined","undefined","or","orThunk","map","each","bind","exists","forall","filter","equals","equals_","toArray","toString","some","constant_a","self","me","f","s","elementEq","b","Optional","from","nativeSlice","Array","prototype","slice","xs","pred","i","len","length","r","x","from$1","subject","clear","isSet","on","checkRange","str","substr","start","global$1","global$2","global$3","global$4","firePastePlainTextToggle","editor","state","fire","global$5","shouldPasteDataImages","getParam","shouldMergeFormats","getRetainStyleProps","getValidate","getAllowHtmlDataUrls","getPasteDataImages","getAllowedImageFileTypes","explode","internalMark","isMarked","html","indexOf","global$6","global$7","global$8","nbsp","global$9","global$a","filter$1","content","items","constructor","RegExp","replace","trimHtml","all","s1","s2","isWordContent","test","isNumericList","text","found","pattern","filterStyles","validStyles","node","styleValue","matches","outputStyles","styles","dom","parseStyle","name","exec","_listLevel","parseInt","firstChild","_listIgnore","remove","wrap","serializeStyle","processResult","cancelled","process","internal","isWordHtml","shouldUseDefaultFilters","retainStyleProperties","makeMap","split","spaces","Math","floor","join","validElements","getWordValidElements","schema","valid_elements","valid_children","elements","rule","attributes","class","attributesOrder","push","style","domParser","addAttributeFilter","nodes","attr","parent","unwrap","className","addNodeFilter","href","rootNode","parse","shouldConvertWordFakeLists","currentListNode","prevListNode","lastLevel","getText","txt","type","next","trimListStart","regExp","removeIgnoredNodes","convertParagraphToLi","paragraphNode","listName","level","append","lastChild","child","walk","nodeText","convertFakeListsToProperLists","validate","serialize","filterWordContent","preProcess","preProcessArgs","wordContent","firePastePreProcess","filteredContent","parser","fragment","forced_root_block","isRootContent","preProcess$1","hasEventListeners","isDefaultPrevented","tempBody","create","postProcessArgs","firePastePostProcess","innerHTML","postProcessFilter","filterContent","pasteHtml","insertContent","merge","paste","isAbsoluteUrl","url","linkSelection","pasteHtmlFn","selection","isCollapsed","undoManager","extra","execCommand","createLink","insertImage","toLowerCase","suffix","isImageUrl","createImage","isNewLineChar","c","doPaste","pasteAsText","args","isSmartPasteEnabled","action","smartInsertContent","pasteHtml$1","internalFlag","unmark","pasteText","encodedText","encode","rootTag","rootAttrs","blocks","tagOpen","key","attrs","tag","hasOwnProperty","encodeAllRaw","openContainer","tagClose","paragraphs","p","toBlockElements","toBRs","convert","acc","tabSpace","getTabSpaces","normalizedText","isCollapsibleWhitespace","pcIsSpace","idx","isNewline","normalizeWhitespace","getForcedRootBlock","getForcedRootBlockAttrs","getDataTransferItems","dataTransfer","getData","legacyText","types","contentType","ex","hasContentType","clipboardContent","mimeType","hasHtmlOrText","uniqueId","pasteImageData","e","rng","clipboardData","images","item","getAsFile","files","allowedExtensions","file","extension","lowerExt","mimeOverrides","jpg","jpe","jfi","jif","jfif","pjpeg","pjp","svg","hasOwn","isImage","getImagesFromDataTransfer","preventDefault","blob","isDataTransferItem","reader","window","FileReader","onload","uri","result","readAsDataURL","then","fileResults","setRng","imageItem","_a","data","decodeURIComponent","base64","img","Image","src","imgElm","getImagesDataImgFilter","isValidDataUriImage","blobCache","editorUpload","blobInfo","existingBlobInfo","getByData","useFileName","getImagesReuseFilename","name_1","m","match","extractFilename","filename","add","blobUri","pasteImage","isKeyboardPasteEvent","metaKeyPressed","keyCode","shiftKey","getPasteBinParent","ie","inline","document","body","getBody","getEl","isDefaultContent","pasteBinDefaultContent","isDefault","elm","pasteBinElm","PasteBin","lastRng","lastRngCell","getRng","gecko","setStyle","getStyle","stopPropagation","isExternalPasteBin","_e","delegatePasteEvents","focus","select","pasteBinClone","unbind","getHtml","copyAndRemove","toElm","fromElm","appendChild","pasteBinClones","grep","childNodes","shift","dirtyWrappers","cleanWrapper","insertBefore","getLastRng","Clipboard","pasteFormat","pasteBin","keyboardPastePlainTextState","keyboardPasteEvent","keyboardPastePressed","removePasteBinOnKeyUp","webkit","navigator","userAgent","stopImmediatePropagation","ieFake","firePaste","once","off","insertClipboardContent","isKeyBoardPaste","plainTextMode","shortEndedElements","ignoreElements","blockElements","isPlainTextHtml","isAbsoluteUrl$1","getShortEndedElements","getBlockElements","currentNode","shortEnded","windowManager","alert","isKeyboardPaste","clipboardEvent","getDoc","getClipboardContent","isBrokenAndroidClipboardEvent","setEditorTimeout","registerEventHandlers","isWebKitFakeUrl","isDataUri","isPasteInsert","transparentSrc","registerEventsAndFilters","setClipboardData","evt","fallback","done","iOS","setData","hasWorkingClipboardApi","clearData","setHtml5Clipboard","markedHtml","mark","outer","inner","contenteditable","setStyles","position","top","left","width","overflow","range","offscreenRange","createRng","selectNodeContents","setTimeout","parentNode","removeChild","getContent","contextual","format","hasSelectedContent","getParent","getStart","isTableSelection","global$b","getCaretRangeFromEvent","getCaretRangeFromPoint","clientX","clientY","setFocusedRange","addPreProcessFilter","filterFunc","removeExplorerBrElementsAfterBlocks","block","blockName","explorerBlocksRegExp","removeWebKitStyles","webKitStyles","webKitStylesSetting","getWebkitStyles","shouldRemoveWebKitStyles","dom_1","node_1","getNode","before","after","inputStyles","decode","inputValue","currentValue","toHex","removeUnderlineAndFontInAnchor","root","$","find","makeSetupHandler","clipboard","api","setActive","pastePlainTextToggleHandler","hasPlugin","console","log","hasProPlugin","draggingInternallyState","isPasteAsTextEnabled","quirks","addPostProcessFilter","setup$2","ui","registry","addToggleButton","active","icon","tooltip","onAction","onSetup","addToggleMenuItem","register$2","addCommand","togglePlainTextPaste","register","plugin","plugins","getPreProcess","postProcess","getPostProcess","setup$1","browser","isChrome","isFirefox","rng_1","cut","copy","register$1","shouldBlockDrop","plainTextContent","dropContent","shouldFilterDrop","content_1","transact","setup"],"mappings":"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","file":"875.e488172d.chunk.js","sourcesContent":["// Exports the \"paste\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/paste')\n//   ES2015:\n//     import 'tinymce/plugins/paste'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.8.1 (2021-05-20)\n */\n(function () {\n    'use strict';\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      return {\n        get: get,\n        set: set\n      };\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var hasProPlugin = function (editor) {\n      if (editor.hasPlugin('powerpaste', true)) {\n        if (typeof window.console !== 'undefined' && window.console.log) {\n          window.console.log('PowerPaste is incompatible with Paste plugin! Remove \\'paste\\' from the \\'plugins\\' option.');\n        }\n        return true;\n      } else {\n        return false;\n      }\n    };\n\n    var get = function (clipboard, quirks) {\n      return {\n        clipboard: clipboard,\n        quirks: quirks\n      };\n    };\n\n    var isSimpleType = function (type) {\n      return function (value) {\n        return typeof value === type;\n      };\n    };\n    var isNullable = function (a) {\n      return a === null || a === undefined;\n    };\n    var isNonNullable = function (a) {\n      return !isNullable(a);\n    };\n    var isFunction = isSimpleType('function');\n\n    var noop = function () {\n    };\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    var never = constant(false);\n    var always = constant(true);\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var eq = function (o) {\n        return o.isNone();\n      };\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = function (n) {\n        return n;\n      };\n      var me = {\n        fold: function (n, _s) {\n          return n();\n        },\n        is: never,\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant(null),\n        getOrUndefined: constant(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: none,\n        equals: eq,\n        equals_: eq,\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        is: function (v) {\n          return a === v;\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        },\n        equals: function (o) {\n          return o.is(a);\n        },\n        equals_: function (o, elementEq) {\n          return o.fold(never, function (b) {\n            return elementEq(a, b);\n          });\n        }\n      };\n      return me;\n    };\n    var from = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Optional = {\n      some: some,\n      none: none,\n      from: from\n    };\n\n    var nativeSlice = Array.prototype.slice;\n    var exists = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    var map = function (xs, f) {\n      var len = xs.length;\n      var r = new Array(len);\n      for (var i = 0; i < len; i++) {\n        var x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    var each = function (xs, f) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var filter = function (xs, pred) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    var foldl = function (xs, f, acc) {\n      each(xs, function (x) {\n        acc = f(acc, x);\n      });\n      return acc;\n    };\n    var from$1 = isFunction(Array.from) ? Array.from : function (x) {\n      return nativeSlice.call(x);\n    };\n\n    var value = function () {\n      var subject = Cell(Optional.none());\n      var clear = function () {\n        return subject.set(Optional.none());\n      };\n      var set = function (s) {\n        return subject.set(Optional.some(s));\n      };\n      var isSet = function () {\n        return subject.get().isSome();\n      };\n      var on = function (f) {\n        return subject.get().each(f);\n      };\n      return {\n        clear: clear,\n        set: set,\n        isSet: isSet,\n        on: on\n      };\n    };\n\n    var checkRange = function (str, substr, start) {\n      return substr === '' || str.length >= substr.length && str.substr(start, start + substr.length) === substr;\n    };\n    var startsWith = function (str, prefix) {\n      return checkRange(str, prefix, 0);\n    };\n    var endsWith = function (str, suffix) {\n      return checkRange(str, suffix, str.length - suffix.length);\n    };\n    var repeat = function (s, count) {\n      return count <= 0 ? '' : new Array(count + 1).join(s);\n    };\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.util.Promise');\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.util.VK');\n\n    var firePastePreProcess = function (editor, html, internal, isWordHtml) {\n      return editor.fire('PastePreProcess', {\n        content: html,\n        internal: internal,\n        wordContent: isWordHtml\n      });\n    };\n    var firePastePostProcess = function (editor, node, internal, isWordHtml) {\n      return editor.fire('PastePostProcess', {\n        node: node,\n        internal: internal,\n        wordContent: isWordHtml\n      });\n    };\n    var firePastePlainTextToggle = function (editor, state) {\n      return editor.fire('PastePlainTextToggle', { state: state });\n    };\n    var firePaste = function (editor, ieFake) {\n      return editor.fire('paste', { ieFake: ieFake });\n    };\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var shouldBlockDrop = function (editor) {\n      return editor.getParam('paste_block_drop', false);\n    };\n    var shouldPasteDataImages = function (editor) {\n      return editor.getParam('paste_data_images', false);\n    };\n    var shouldFilterDrop = function (editor) {\n      return editor.getParam('paste_filter_drop', true);\n    };\n    var getPreProcess = function (editor) {\n      return editor.getParam('paste_preprocess');\n    };\n    var getPostProcess = function (editor) {\n      return editor.getParam('paste_postprocess');\n    };\n    var getWebkitStyles = function (editor) {\n      return editor.getParam('paste_webkit_styles');\n    };\n    var shouldRemoveWebKitStyles = function (editor) {\n      return editor.getParam('paste_remove_styles_if_webkit', true);\n    };\n    var shouldMergeFormats = function (editor) {\n      return editor.getParam('paste_merge_formats', true);\n    };\n    var isSmartPasteEnabled = function (editor) {\n      return editor.getParam('smart_paste', true);\n    };\n    var isPasteAsTextEnabled = function (editor) {\n      return editor.getParam('paste_as_text', false);\n    };\n    var getRetainStyleProps = function (editor) {\n      return editor.getParam('paste_retain_style_properties');\n    };\n    var getWordValidElements = function (editor) {\n      var defaultValidElements = '-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,' + '-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,' + 'td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody';\n      return editor.getParam('paste_word_valid_elements', defaultValidElements);\n    };\n    var shouldConvertWordFakeLists = function (editor) {\n      return editor.getParam('paste_convert_word_fake_lists', true);\n    };\n    var shouldUseDefaultFilters = function (editor) {\n      return editor.getParam('paste_enable_default_filters', true);\n    };\n    var getValidate = function (editor) {\n      return editor.getParam('validate');\n    };\n    var getAllowHtmlDataUrls = function (editor) {\n      return editor.getParam('allow_html_data_urls', false, 'boolean');\n    };\n    var getPasteDataImages = function (editor) {\n      return editor.getParam('paste_data_images', false, 'boolean');\n    };\n    var getImagesDataImgFilter = function (editor) {\n      return editor.getParam('images_dataimg_filter');\n    };\n    var getImagesReuseFilename = function (editor) {\n      return editor.getParam('images_reuse_filename');\n    };\n    var getForcedRootBlock = function (editor) {\n      return editor.getParam('forced_root_block');\n    };\n    var getForcedRootBlockAttrs = function (editor) {\n      return editor.getParam('forced_root_block_attrs');\n    };\n    var getTabSpaces = function (editor) {\n      return editor.getParam('paste_tab_spaces', 4, 'number');\n    };\n    var getAllowedImageFileTypes = function (editor) {\n      var defaultImageFileTypes = 'jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp';\n      return global$5.explode(editor.getParam('images_file_types', defaultImageFileTypes, 'string'));\n    };\n\n    var internalMimeType = 'x-tinymce/html';\n    var internalMark = '<!-- ' + internalMimeType + ' -->';\n    var mark = function (html) {\n      return internalMark + html;\n    };\n    var unmark = function (html) {\n      return html.replace(internalMark, '');\n    };\n    var isMarked = function (html) {\n      return html.indexOf(internalMark) !== -1;\n    };\n    var internalHtmlMime = function () {\n      return internalMimeType;\n    };\n\n    var global$6 = tinymce.util.Tools.resolve('tinymce.html.Entities');\n\n    var isPlainText = function (text) {\n      return !/<(?:\\/?(?!(?:div|p|br|span)>)\\w+|(?:(?!(?:span style=\"white-space:\\s?pre;?\">)|br\\s?\\/>))\\w+\\s[^>]+)>/i.test(text);\n    };\n    var toBRs = function (text) {\n      return text.replace(/\\r?\\n/g, '<br>');\n    };\n    var openContainer = function (rootTag, rootAttrs) {\n      var key;\n      var attrs = [];\n      var tag = '<' + rootTag;\n      if (typeof rootAttrs === 'object') {\n        for (key in rootAttrs) {\n          if (rootAttrs.hasOwnProperty(key)) {\n            attrs.push(key + '=\"' + global$6.encodeAllRaw(rootAttrs[key]) + '\"');\n          }\n        }\n        if (attrs.length) {\n          tag += ' ' + attrs.join(' ');\n        }\n      }\n      return tag + '>';\n    };\n    var toBlockElements = function (text, rootTag, rootAttrs) {\n      var blocks = text.split(/\\n\\n/);\n      var tagOpen = openContainer(rootTag, rootAttrs);\n      var tagClose = '</' + rootTag + '>';\n      var paragraphs = global$5.map(blocks, function (p) {\n        return p.split(/\\n/).join('<br />');\n      });\n      var stitch = function (p) {\n        return tagOpen + p + tagClose;\n      };\n      return paragraphs.length === 1 ? paragraphs[0] : global$5.map(paragraphs, stitch).join('');\n    };\n    var convert = function (text, rootTag, rootAttrs) {\n      return rootTag ? toBlockElements(text, rootTag === true ? 'p' : rootTag, rootAttrs) : toBRs(text);\n    };\n\n    var global$7 = tinymce.util.Tools.resolve('tinymce.html.DomParser');\n\n    var global$8 = tinymce.util.Tools.resolve('tinymce.html.Serializer');\n\n    var nbsp = '\\xA0';\n\n    var global$9 = tinymce.util.Tools.resolve('tinymce.html.Node');\n\n    var global$a = tinymce.util.Tools.resolve('tinymce.html.Schema');\n\n    var filter$1 = function (content, items) {\n      global$5.each(items, function (v) {\n        if (v.constructor === RegExp) {\n          content = content.replace(v, '');\n        } else {\n          content = content.replace(v[0], v[1]);\n        }\n      });\n      return content;\n    };\n    var innerText = function (html) {\n      var schema = global$a();\n      var domParser = global$7({}, schema);\n      var text = '';\n      var shortEndedElements = schema.getShortEndedElements();\n      var ignoreElements = global$5.makeMap('script noscript style textarea video audio iframe object', ' ');\n      var blockElements = schema.getBlockElements();\n      var walk = function (node) {\n        var name = node.name, currentNode = node;\n        if (name === 'br') {\n          text += '\\n';\n          return;\n        }\n        if (name === 'wbr') {\n          return;\n        }\n        if (shortEndedElements[name]) {\n          text += ' ';\n        }\n        if (ignoreElements[name]) {\n          text += ' ';\n          return;\n        }\n        if (node.type === 3) {\n          text += node.value;\n        }\n        if (!node.shortEnded) {\n          if (node = node.firstChild) {\n            do {\n              walk(node);\n            } while (node = node.next);\n          }\n        }\n        if (blockElements[name] && currentNode.next) {\n          text += '\\n';\n          if (name === 'p') {\n            text += '\\n';\n          }\n        }\n      };\n      html = filter$1(html, [/<!\\[[^\\]]+\\]>/g]);\n      walk(domParser.parse(html));\n      return text;\n    };\n    var trimHtml = function (html) {\n      var trimSpaces = function (all, s1, s2) {\n        if (!s1 && !s2) {\n          return ' ';\n        }\n        return nbsp;\n      };\n      html = filter$1(html, [\n        /^[\\s\\S]*<body[^>]*>\\s*|\\s*<\\/body[^>]*>[\\s\\S]*$/ig,\n        /<!--StartFragment-->|<!--EndFragment-->/g,\n        [\n          /( ?)<span class=\"Apple-converted-space\">\\u00a0<\\/span>( ?)/g,\n          trimSpaces\n        ],\n        /<br class=\"Apple-interchange-newline\">/g,\n        /<br>$/i\n      ]);\n      return html;\n    };\n    var createIdGenerator = function (prefix) {\n      var count = 0;\n      return function () {\n        return prefix + count++;\n      };\n    };\n    var getImageMimeType = function (ext) {\n      var lowerExt = ext.toLowerCase();\n      var mimeOverrides = {\n        jpg: 'jpeg',\n        jpe: 'jpeg',\n        jfi: 'jpeg',\n        jif: 'jpeg',\n        jfif: 'jpeg',\n        pjpeg: 'jpeg',\n        pjp: 'jpeg',\n        svg: 'svg+xml'\n      };\n      return global$5.hasOwn(mimeOverrides, lowerExt) ? 'image/' + mimeOverrides[lowerExt] : 'image/' + lowerExt;\n    };\n\n    var isWordContent = function (content) {\n      return /<font face=\"Times New Roman\"|class=\"?Mso|style=\"[^\"]*\\bmso-|style='[^']*\\bmso-|w:WordDocument/i.test(content) || /class=\"OutlineElement/.test(content) || /id=\"?docs\\-internal\\-guid\\-/.test(content);\n    };\n    var isNumericList = function (text) {\n      var found;\n      var patterns = [\n        /^[IVXLMCD]+\\.[ \\u00a0]/,\n        /^[ivxlmcd]+\\.[ \\u00a0]/,\n        /^[a-z]{1,2}[\\.\\)][ \\u00a0]/,\n        /^[A-Z]{1,2}[\\.\\)][ \\u00a0]/,\n        /^[0-9]+\\.[ \\u00a0]/,\n        /^[\\u3007\\u4e00\\u4e8c\\u4e09\\u56db\\u4e94\\u516d\\u4e03\\u516b\\u4e5d]+\\.[ \\u00a0]/,\n        /^[\\u58f1\\u5f10\\u53c2\\u56db\\u4f0d\\u516d\\u4e03\\u516b\\u4e5d\\u62fe]+\\.[ \\u00a0]/\n      ];\n      text = text.replace(/^[\\u00a0 ]+/, '');\n      global$5.each(patterns, function (pattern) {\n        if (pattern.test(text)) {\n          found = true;\n          return false;\n        }\n      });\n      return found;\n    };\n    var isBulletList = function (text) {\n      return /^[\\s\\u00a0]*[\\u2022\\u00b7\\u00a7\\u25CF]\\s*/.test(text);\n    };\n    var convertFakeListsToProperLists = function (node) {\n      var currentListNode, prevListNode, lastLevel = 1;\n      var getText = function (node) {\n        var txt = '';\n        if (node.type === 3) {\n          return node.value;\n        }\n        if (node = node.firstChild) {\n          do {\n            txt += getText(node);\n          } while (node = node.next);\n        }\n        return txt;\n      };\n      var trimListStart = function (node, regExp) {\n        if (node.type === 3) {\n          if (regExp.test(node.value)) {\n            node.value = node.value.replace(regExp, '');\n            return false;\n          }\n        }\n        if (node = node.firstChild) {\n          do {\n            if (!trimListStart(node, regExp)) {\n              return false;\n            }\n          } while (node = node.next);\n        }\n        return true;\n      };\n      var removeIgnoredNodes = function (node) {\n        if (node._listIgnore) {\n          node.remove();\n          return;\n        }\n        if (node = node.firstChild) {\n          do {\n            removeIgnoredNodes(node);\n          } while (node = node.next);\n        }\n      };\n      var convertParagraphToLi = function (paragraphNode, listName, start) {\n        var level = paragraphNode._listLevel || lastLevel;\n        if (level !== lastLevel) {\n          if (level < lastLevel) {\n            if (currentListNode) {\n              currentListNode = currentListNode.parent.parent;\n            }\n          } else {\n            prevListNode = currentListNode;\n            currentListNode = null;\n          }\n        }\n        if (!currentListNode || currentListNode.name !== listName) {\n          prevListNode = prevListNode || currentListNode;\n          currentListNode = new global$9(listName, 1);\n          if (start > 1) {\n            currentListNode.attr('start', '' + start);\n          }\n          paragraphNode.wrap(currentListNode);\n        } else {\n          currentListNode.append(paragraphNode);\n        }\n        paragraphNode.name = 'li';\n        if (level > lastLevel && prevListNode) {\n          prevListNode.lastChild.append(currentListNode);\n        }\n        lastLevel = level;\n        removeIgnoredNodes(paragraphNode);\n        trimListStart(paragraphNode, /^\\u00a0+/);\n        trimListStart(paragraphNode, /^\\s*([\\u2022\\u00b7\\u00a7\\u25CF]|\\w+\\.)/);\n        trimListStart(paragraphNode, /^\\u00a0+/);\n      };\n      var elements = [];\n      var child = node.firstChild;\n      while (typeof child !== 'undefined' && child !== null) {\n        elements.push(child);\n        child = child.walk();\n        if (child !== null) {\n          while (typeof child !== 'undefined' && child.parent !== node) {\n            child = child.walk();\n          }\n        }\n      }\n      for (var i = 0; i < elements.length; i++) {\n        node = elements[i];\n        if (node.name === 'p' && node.firstChild) {\n          var nodeText = getText(node);\n          if (isBulletList(nodeText)) {\n            convertParagraphToLi(node, 'ul');\n            continue;\n          }\n          if (isNumericList(nodeText)) {\n            var matches = /([0-9]+)\\./.exec(nodeText);\n            var start = 1;\n            if (matches) {\n              start = parseInt(matches[1], 10);\n            }\n            convertParagraphToLi(node, 'ol', start);\n            continue;\n          }\n          if (node._listLevel) {\n            convertParagraphToLi(node, 'ul', 1);\n            continue;\n          }\n          currentListNode = null;\n        } else {\n          prevListNode = currentListNode;\n          currentListNode = null;\n        }\n      }\n    };\n    var filterStyles = function (editor, validStyles, node, styleValue) {\n      var outputStyles = {}, matches;\n      var styles = editor.dom.parseStyle(styleValue);\n      global$5.each(styles, function (value, name) {\n        switch (name) {\n        case 'mso-list':\n          matches = /\\w+ \\w+([0-9]+)/i.exec(styleValue);\n          if (matches) {\n            node._listLevel = parseInt(matches[1], 10);\n          }\n          if (/Ignore/i.test(value) && node.firstChild) {\n            node._listIgnore = true;\n            node.firstChild._listIgnore = true;\n          }\n          break;\n        case 'horiz-align':\n          name = 'text-align';\n          break;\n        case 'vert-align':\n          name = 'vertical-align';\n          break;\n        case 'font-color':\n        case 'mso-foreground':\n          name = 'color';\n          break;\n        case 'mso-background':\n        case 'mso-highlight':\n          name = 'background';\n          break;\n        case 'font-weight':\n        case 'font-style':\n          if (value !== 'normal') {\n            outputStyles[name] = value;\n          }\n          return;\n        case 'mso-element':\n          if (/^(comment|comment-list)$/i.test(value)) {\n            node.remove();\n            return;\n          }\n          break;\n        }\n        if (name.indexOf('mso-comment') === 0) {\n          node.remove();\n          return;\n        }\n        if (name.indexOf('mso-') === 0) {\n          return;\n        }\n        if (getRetainStyleProps(editor) === 'all' || validStyles && validStyles[name]) {\n          outputStyles[name] = value;\n        }\n      });\n      if (/(bold)/i.test(outputStyles['font-weight'])) {\n        delete outputStyles['font-weight'];\n        node.wrap(new global$9('b', 1));\n      }\n      if (/(italic)/i.test(outputStyles['font-style'])) {\n        delete outputStyles['font-style'];\n        node.wrap(new global$9('i', 1));\n      }\n      outputStyles = editor.dom.serializeStyle(outputStyles, node.name);\n      if (outputStyles) {\n        return outputStyles;\n      }\n      return null;\n    };\n    var filterWordContent = function (editor, content) {\n      var validStyles;\n      var retainStyleProperties = getRetainStyleProps(editor);\n      if (retainStyleProperties) {\n        validStyles = global$5.makeMap(retainStyleProperties.split(/[, ]/));\n      }\n      content = filter$1(content, [\n        /<br class=\"?Apple-interchange-newline\"?>/gi,\n        /<b[^>]+id=\"?docs-internal-[^>]*>/gi,\n        /<!--[\\s\\S]+?-->/gi,\n        /<(!|script[^>]*>.*?<\\/script(?=[>\\s])|\\/?(\\?xml(:\\w+)?|img|meta|link|style|\\w:\\w+)(?=[\\s\\/>]))[^>]*>/gi,\n        [\n          /<(\\/?)s>/gi,\n          '<$1strike>'\n        ],\n        [\n          /&nbsp;/gi,\n          nbsp\n        ],\n        [\n          /<span\\s+style\\s*=\\s*\"\\s*mso-spacerun\\s*:\\s*yes\\s*;?\\s*\"\\s*>([\\s\\u00a0]*)<\\/span>/gi,\n          function (str, spaces) {\n            return spaces.length > 0 ? spaces.replace(/./, ' ').slice(Math.floor(spaces.length / 2)).split('').join(nbsp) : '';\n          }\n        ]\n      ]);\n      var validElements = getWordValidElements(editor);\n      var schema = global$a({\n        valid_elements: validElements,\n        valid_children: '-li[p]'\n      });\n      global$5.each(schema.elements, function (rule) {\n        if (!rule.attributes.class) {\n          rule.attributes.class = {};\n          rule.attributesOrder.push('class');\n        }\n        if (!rule.attributes.style) {\n          rule.attributes.style = {};\n          rule.attributesOrder.push('style');\n        }\n      });\n      var domParser = global$7({}, schema);\n      domParser.addAttributeFilter('style', function (nodes) {\n        var i = nodes.length, node;\n        while (i--) {\n          node = nodes[i];\n          node.attr('style', filterStyles(editor, validStyles, node, node.attr('style')));\n          if (node.name === 'span' && node.parent && !node.attributes.length) {\n            node.unwrap();\n          }\n        }\n      });\n      domParser.addAttributeFilter('class', function (nodes) {\n        var i = nodes.length, node, className;\n        while (i--) {\n          node = nodes[i];\n          className = node.attr('class');\n          if (/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(className)) {\n            node.remove();\n          }\n          node.attr('class', null);\n        }\n      });\n      domParser.addNodeFilter('del', function (nodes) {\n        var i = nodes.length;\n        while (i--) {\n          nodes[i].remove();\n        }\n      });\n      domParser.addNodeFilter('a', function (nodes) {\n        var i = nodes.length, node, href, name;\n        while (i--) {\n          node = nodes[i];\n          href = node.attr('href');\n          name = node.attr('name');\n          if (href && href.indexOf('#_msocom_') !== -1) {\n            node.remove();\n            continue;\n          }\n          if (href && href.indexOf('file://') === 0) {\n            href = href.split('#')[1];\n            if (href) {\n              href = '#' + href;\n            }\n          }\n          if (!href && !name) {\n            node.unwrap();\n          } else {\n            if (name && !/^_?(?:toc|edn|ftn)/i.test(name)) {\n              node.unwrap();\n              continue;\n            }\n            node.attr({\n              href: href,\n              name: name\n            });\n          }\n        }\n      });\n      var rootNode = domParser.parse(content);\n      if (shouldConvertWordFakeLists(editor)) {\n        convertFakeListsToProperLists(rootNode);\n      }\n      content = global$8({ validate: getValidate(editor) }, schema).serialize(rootNode);\n      return content;\n    };\n    var preProcess = function (editor, content) {\n      return shouldUseDefaultFilters(editor) ? filterWordContent(editor, content) : content;\n    };\n\n    var preProcess$1 = function (editor, html) {\n      var parser = global$7({}, editor.schema);\n      parser.addNodeFilter('meta', function (nodes) {\n        global$5.each(nodes, function (node) {\n          node.remove();\n        });\n      });\n      var fragment = parser.parse(html, {\n        forced_root_block: false,\n        isRootContent: true\n      });\n      return global$8({ validate: getValidate(editor) }, editor.schema).serialize(fragment);\n    };\n    var processResult = function (content, cancelled) {\n      return {\n        content: content,\n        cancelled: cancelled\n      };\n    };\n    var postProcessFilter = function (editor, html, internal, isWordHtml) {\n      var tempBody = editor.dom.create('div', { style: 'display:none' }, html);\n      var postProcessArgs = firePastePostProcess(editor, tempBody, internal, isWordHtml);\n      return processResult(postProcessArgs.node.innerHTML, postProcessArgs.isDefaultPrevented());\n    };\n    var filterContent = function (editor, content, internal, isWordHtml) {\n      var preProcessArgs = firePastePreProcess(editor, content, internal, isWordHtml);\n      var filteredContent = preProcess$1(editor, preProcessArgs.content);\n      if (editor.hasEventListeners('PastePostProcess') && !preProcessArgs.isDefaultPrevented()) {\n        return postProcessFilter(editor, filteredContent, internal, isWordHtml);\n      } else {\n        return processResult(filteredContent, preProcessArgs.isDefaultPrevented());\n      }\n    };\n    var process = function (editor, html, internal) {\n      var isWordHtml = isWordContent(html);\n      var content = isWordHtml ? preProcess(editor, html) : html;\n      return filterContent(editor, content, internal, isWordHtml);\n    };\n\n    var pasteHtml = function (editor, html) {\n      editor.insertContent(html, {\n        merge: shouldMergeFormats(editor),\n        paste: true\n      });\n      return true;\n    };\n    var isAbsoluteUrl = function (url) {\n      return /^https?:\\/\\/[\\w\\?\\-\\/+=.&%@~#]+$/i.test(url);\n    };\n    var isImageUrl = function (editor, url) {\n      return isAbsoluteUrl(url) && exists(getAllowedImageFileTypes(editor), function (type) {\n        return endsWith(url.toLowerCase(), '.' + type.toLowerCase());\n      });\n    };\n    var createImage = function (editor, url, pasteHtmlFn) {\n      editor.undoManager.extra(function () {\n        pasteHtmlFn(editor, url);\n      }, function () {\n        editor.insertContent('<img src=\"' + url + '\">');\n      });\n      return true;\n    };\n    var createLink = function (editor, url, pasteHtmlFn) {\n      editor.undoManager.extra(function () {\n        pasteHtmlFn(editor, url);\n      }, function () {\n        editor.execCommand('mceInsertLink', false, url);\n      });\n      return true;\n    };\n    var linkSelection = function (editor, html, pasteHtmlFn) {\n      return editor.selection.isCollapsed() === false && isAbsoluteUrl(html) ? createLink(editor, html, pasteHtmlFn) : false;\n    };\n    var insertImage = function (editor, html, pasteHtmlFn) {\n      return isImageUrl(editor, html) ? createImage(editor, html, pasteHtmlFn) : false;\n    };\n    var smartInsertContent = function (editor, html) {\n      global$5.each([\n        linkSelection,\n        insertImage,\n        pasteHtml\n      ], function (action) {\n        return action(editor, html, pasteHtml) !== true;\n      });\n    };\n    var insertContent = function (editor, html, pasteAsText) {\n      if (pasteAsText || isSmartPasteEnabled(editor) === false) {\n        pasteHtml(editor, html);\n      } else {\n        smartInsertContent(editor, html);\n      }\n    };\n\n    var isCollapsibleWhitespace = function (c) {\n      return ' \\f\\t\\x0B'.indexOf(c) !== -1;\n    };\n    var isNewLineChar = function (c) {\n      return c === '\\n' || c === '\\r';\n    };\n    var isNewline = function (text, idx) {\n      return idx < text.length && idx >= 0 ? isNewLineChar(text[idx]) : false;\n    };\n    var normalizeWhitespace = function (editor, text) {\n      var tabSpace = repeat(' ', getTabSpaces(editor));\n      var normalizedText = text.replace(/\\t/g, tabSpace);\n      var result = foldl(normalizedText, function (acc, c) {\n        if (isCollapsibleWhitespace(c) || c === nbsp) {\n          if (acc.pcIsSpace || acc.str === '' || acc.str.length === normalizedText.length - 1 || isNewline(normalizedText, acc.str.length + 1)) {\n            return {\n              pcIsSpace: false,\n              str: acc.str + nbsp\n            };\n          } else {\n            return {\n              pcIsSpace: true,\n              str: acc.str + ' '\n            };\n          }\n        } else {\n          return {\n            pcIsSpace: isNewLineChar(c),\n            str: acc.str + c\n          };\n        }\n      }, {\n        pcIsSpace: false,\n        str: ''\n      });\n      return result.str;\n    };\n\n    var doPaste = function (editor, content, internal, pasteAsText) {\n      var args = process(editor, content, internal);\n      if (args.cancelled === false) {\n        insertContent(editor, args.content, pasteAsText);\n      }\n    };\n    var pasteHtml$1 = function (editor, html, internalFlag) {\n      var internal = internalFlag ? internalFlag : isMarked(html);\n      doPaste(editor, unmark(html), internal, false);\n    };\n    var pasteText = function (editor, text) {\n      var encodedText = editor.dom.encode(text).replace(/\\r\\n/g, '\\n');\n      var normalizedText = normalizeWhitespace(editor, encodedText);\n      var html = convert(normalizedText, getForcedRootBlock(editor), getForcedRootBlockAttrs(editor));\n      doPaste(editor, html, false, true);\n    };\n    var getDataTransferItems = function (dataTransfer) {\n      var items = {};\n      var mceInternalUrlPrefix = 'data:text/mce-internal,';\n      if (dataTransfer) {\n        if (dataTransfer.getData) {\n          var legacyText = dataTransfer.getData('Text');\n          if (legacyText && legacyText.length > 0) {\n            if (legacyText.indexOf(mceInternalUrlPrefix) === -1) {\n              items['text/plain'] = legacyText;\n            }\n          }\n        }\n        if (dataTransfer.types) {\n          for (var i = 0; i < dataTransfer.types.length; i++) {\n            var contentType = dataTransfer.types[i];\n            try {\n              items[contentType] = dataTransfer.getData(contentType);\n            } catch (ex) {\n              items[contentType] = '';\n            }\n          }\n        }\n      }\n      return items;\n    };\n    var getClipboardContent = function (editor, clipboardEvent) {\n      return getDataTransferItems(clipboardEvent.clipboardData || editor.getDoc().dataTransfer);\n    };\n    var hasContentType = function (clipboardContent, mimeType) {\n      return mimeType in clipboardContent && clipboardContent[mimeType].length > 0;\n    };\n    var hasHtmlOrText = function (content) {\n      return hasContentType(content, 'text/html') || hasContentType(content, 'text/plain');\n    };\n    var parseDataUri = function (uri) {\n      var matches = /data:([^;]+);base64,([a-z0-9\\+\\/=]+)/i.exec(uri);\n      if (matches) {\n        return {\n          type: matches[1],\n          data: decodeURIComponent(matches[2])\n        };\n      } else {\n        return {\n          type: null,\n          data: null\n        };\n      }\n    };\n    var isValidDataUriImage = function (editor, imgElm) {\n      var filter = getImagesDataImgFilter(editor);\n      return filter ? filter(imgElm) : true;\n    };\n    var extractFilename = function (editor, str) {\n      var m = str.match(/([\\s\\S]+?)(?:\\.[a-z0-9.]+)$/i);\n      return isNonNullable(m) ? editor.dom.encode(m[1]) : null;\n    };\n    var uniqueId = createIdGenerator('mceclip');\n    var pasteImage = function (editor, imageItem) {\n      var _a = parseDataUri(imageItem.uri), base64 = _a.data, type = _a.type;\n      var id = uniqueId();\n      var file = imageItem.blob;\n      var img = new Image();\n      img.src = imageItem.uri;\n      if (isValidDataUriImage(editor, img)) {\n        var blobCache = editor.editorUpload.blobCache;\n        var blobInfo = void 0;\n        var existingBlobInfo = blobCache.getByData(base64, type);\n        if (!existingBlobInfo) {\n          var useFileName = getImagesReuseFilename(editor) && isNonNullable(file.name);\n          var name_1 = useFileName ? extractFilename(editor, file.name) : id;\n          var filename = useFileName ? file.name : undefined;\n          blobInfo = blobCache.create(id, file, base64, name_1, filename);\n          blobCache.add(blobInfo);\n        } else {\n          blobInfo = existingBlobInfo;\n        }\n        pasteHtml$1(editor, '<img src=\"' + blobInfo.blobUri() + '\">', false);\n      } else {\n        pasteHtml$1(editor, '<img src=\"' + imageItem.uri + '\">', false);\n      }\n    };\n    var isClipboardEvent = function (event) {\n      return event.type === 'paste';\n    };\n    var isDataTransferItem = function (item) {\n      return isNonNullable(item.getAsFile);\n    };\n    var readFilesAsDataUris = function (items) {\n      return global$3.all(map(items, function (item) {\n        return new global$3(function (resolve) {\n          var blob = isDataTransferItem(item) ? item.getAsFile() : item;\n          var reader = new window.FileReader();\n          reader.onload = function () {\n            resolve({\n              blob: blob,\n              uri: reader.result\n            });\n          };\n          reader.readAsDataURL(blob);\n        });\n      }));\n    };\n    var isImage = function (editor) {\n      var allowedExtensions = getAllowedImageFileTypes(editor);\n      return function (file) {\n        return startsWith(file.type, 'image/') && exists(allowedExtensions, function (extension) {\n          return getImageMimeType(extension) === file.type;\n        });\n      };\n    };\n    var getImagesFromDataTransfer = function (editor, dataTransfer) {\n      var items = dataTransfer.items ? map(from$1(dataTransfer.items), function (item) {\n        return item.getAsFile();\n      }) : [];\n      var files = dataTransfer.files ? from$1(dataTransfer.files) : [];\n      return filter(items.length > 0 ? items : files, isImage(editor));\n    };\n    var pasteImageData = function (editor, e, rng) {\n      var dataTransfer = isClipboardEvent(e) ? e.clipboardData : e.dataTransfer;\n      if (getPasteDataImages(editor) && dataTransfer) {\n        var images = getImagesFromDataTransfer(editor, dataTransfer);\n        if (images.length > 0) {\n          e.preventDefault();\n          readFilesAsDataUris(images).then(function (fileResults) {\n            if (rng) {\n              editor.selection.setRng(rng);\n            }\n            each(fileResults, function (result) {\n              pasteImage(editor, result);\n            });\n          });\n          return true;\n        }\n      }\n      return false;\n    };\n    var isBrokenAndroidClipboardEvent = function (e) {\n      var clipboardData = e.clipboardData;\n      return navigator.userAgent.indexOf('Android') !== -1 && clipboardData && clipboardData.items && clipboardData.items.length === 0;\n    };\n    var isKeyboardPasteEvent = function (e) {\n      return global$4.metaKeyPressed(e) && e.keyCode === 86 || e.shiftKey && e.keyCode === 45;\n    };\n    var registerEventHandlers = function (editor, pasteBin, pasteFormat) {\n      var keyboardPasteEvent = value();\n      var keyboardPastePressed = value();\n      var keyboardPastePlainTextState;\n      editor.on('keyup', keyboardPastePressed.clear);\n      editor.on('keydown', function (e) {\n        var removePasteBinOnKeyUp = function (e) {\n          if (isKeyboardPasteEvent(e) && !e.isDefaultPrevented()) {\n            pasteBin.remove();\n          }\n        };\n        if (isKeyboardPasteEvent(e) && !e.isDefaultPrevented()) {\n          keyboardPastePlainTextState = e.shiftKey && e.keyCode === 86;\n          if (keyboardPastePlainTextState && global$1.webkit && navigator.userAgent.indexOf('Version/') !== -1) {\n            return;\n          }\n          e.stopImmediatePropagation();\n          keyboardPasteEvent.set(e);\n          keyboardPastePressed.set(true);\n          if (global$1.ie && keyboardPastePlainTextState) {\n            e.preventDefault();\n            firePaste(editor, true);\n            return;\n          }\n          pasteBin.remove();\n          pasteBin.create();\n          editor.once('keyup', removePasteBinOnKeyUp);\n          editor.once('paste', function () {\n            editor.off('keyup', removePasteBinOnKeyUp);\n          });\n        }\n      });\n      var insertClipboardContent = function (editor, clipboardContent, isKeyBoardPaste, plainTextMode, internal) {\n        var content;\n        if (hasContentType(clipboardContent, 'text/html')) {\n          content = clipboardContent['text/html'];\n        } else {\n          content = pasteBin.getHtml();\n          internal = internal ? internal : isMarked(content);\n          if (pasteBin.isDefaultContent(content)) {\n            plainTextMode = true;\n          }\n        }\n        content = trimHtml(content);\n        pasteBin.remove();\n        var isPlainTextHtml = internal === false && isPlainText(content);\n        var isAbsoluteUrl$1 = isAbsoluteUrl(content);\n        if (!content.length || isPlainTextHtml && !isAbsoluteUrl$1) {\n          plainTextMode = true;\n        }\n        if (plainTextMode || isAbsoluteUrl$1) {\n          if (hasContentType(clipboardContent, 'text/plain') && isPlainTextHtml) {\n            content = clipboardContent['text/plain'];\n          } else {\n            content = innerText(content);\n          }\n        }\n        if (pasteBin.isDefaultContent(content)) {\n          if (!isKeyBoardPaste) {\n            editor.windowManager.alert('Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.');\n          }\n          return;\n        }\n        if (plainTextMode) {\n          pasteText(editor, content);\n        } else {\n          pasteHtml$1(editor, content, internal);\n        }\n      };\n      var getLastRng = function () {\n        return pasteBin.getLastRng() || editor.selection.getRng();\n      };\n      editor.on('paste', function (e) {\n        var isKeyboardPaste = keyboardPasteEvent.isSet() || keyboardPastePressed.isSet();\n        if (isKeyboardPaste) {\n          keyboardPasteEvent.clear();\n        }\n        var clipboardContent = getClipboardContent(editor, e);\n        var plainTextMode = pasteFormat.get() === 'text' || keyboardPastePlainTextState;\n        var internal = hasContentType(clipboardContent, internalHtmlMime());\n        keyboardPastePlainTextState = false;\n        if (e.isDefaultPrevented() || isBrokenAndroidClipboardEvent(e)) {\n          pasteBin.remove();\n          return;\n        }\n        if (!hasHtmlOrText(clipboardContent) && pasteImageData(editor, e, getLastRng())) {\n          pasteBin.remove();\n          return;\n        }\n        if (!isKeyboardPaste) {\n          e.preventDefault();\n        }\n        if (global$1.ie && (!isKeyboardPaste || e.ieFake) && !hasContentType(clipboardContent, 'text/html')) {\n          pasteBin.create();\n          editor.dom.bind(pasteBin.getEl(), 'paste', function (e) {\n            e.stopPropagation();\n          });\n          editor.getDoc().execCommand('Paste', false, null);\n          clipboardContent['text/html'] = pasteBin.getHtml();\n        }\n        if (hasContentType(clipboardContent, 'text/html')) {\n          e.preventDefault();\n          if (!internal) {\n            internal = isMarked(clipboardContent['text/html']);\n          }\n          insertClipboardContent(editor, clipboardContent, isKeyboardPaste, plainTextMode, internal);\n        } else {\n          global$2.setEditorTimeout(editor, function () {\n            insertClipboardContent(editor, clipboardContent, isKeyboardPaste, plainTextMode, internal);\n          }, 0);\n        }\n      });\n    };\n    var registerEventsAndFilters = function (editor, pasteBin, pasteFormat) {\n      registerEventHandlers(editor, pasteBin, pasteFormat);\n      var src;\n      editor.parser.addNodeFilter('img', function (nodes, name, args) {\n        var isPasteInsert = function (args) {\n          return args.data && args.data.paste === true;\n        };\n        var remove = function (node) {\n          if (!node.attr('data-mce-object') && src !== global$1.transparentSrc) {\n            node.remove();\n          }\n        };\n        var isWebKitFakeUrl = function (src) {\n          return src.indexOf('webkit-fake-url') === 0;\n        };\n        var isDataUri = function (src) {\n          return src.indexOf('data:') === 0;\n        };\n        if (!getPasteDataImages(editor) && isPasteInsert(args)) {\n          var i = nodes.length;\n          while (i--) {\n            src = nodes[i].attr('src');\n            if (!src) {\n              continue;\n            }\n            if (isWebKitFakeUrl(src)) {\n              remove(nodes[i]);\n            } else if (!getAllowHtmlDataUrls(editor) && isDataUri(src)) {\n              remove(nodes[i]);\n            }\n          }\n        }\n      });\n    };\n\n    var getPasteBinParent = function (editor) {\n      return global$1.ie && editor.inline ? document.body : editor.getBody();\n    };\n    var isExternalPasteBin = function (editor) {\n      return getPasteBinParent(editor) !== editor.getBody();\n    };\n    var delegatePasteEvents = function (editor, pasteBinElm, pasteBinDefaultContent) {\n      if (isExternalPasteBin(editor)) {\n        editor.dom.bind(pasteBinElm, 'paste keyup', function (_e) {\n          if (!isDefault(editor, pasteBinDefaultContent)) {\n            editor.fire('paste');\n          }\n        });\n      }\n    };\n    var create = function (editor, lastRngCell, pasteBinDefaultContent) {\n      var dom = editor.dom, body = editor.getBody();\n      lastRngCell.set(editor.selection.getRng());\n      var pasteBinElm = editor.dom.add(getPasteBinParent(editor), 'div', {\n        'id': 'mcepastebin',\n        'class': 'mce-pastebin',\n        'contentEditable': true,\n        'data-mce-bogus': 'all',\n        'style': 'position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0'\n      }, pasteBinDefaultContent);\n      if (global$1.ie || global$1.gecko) {\n        dom.setStyle(pasteBinElm, 'left', dom.getStyle(body, 'direction', true) === 'rtl' ? 65535 : -65535);\n      }\n      dom.bind(pasteBinElm, 'beforedeactivate focusin focusout', function (e) {\n        e.stopPropagation();\n      });\n      delegatePasteEvents(editor, pasteBinElm, pasteBinDefaultContent);\n      pasteBinElm.focus();\n      editor.selection.select(pasteBinElm, true);\n    };\n    var remove = function (editor, lastRngCell) {\n      if (getEl(editor)) {\n        var pasteBinClone = void 0;\n        var lastRng = lastRngCell.get();\n        while (pasteBinClone = editor.dom.get('mcepastebin')) {\n          editor.dom.remove(pasteBinClone);\n          editor.dom.unbind(pasteBinClone);\n        }\n        if (lastRng) {\n          editor.selection.setRng(lastRng);\n        }\n      }\n      lastRngCell.set(null);\n    };\n    var getEl = function (editor) {\n      return editor.dom.get('mcepastebin');\n    };\n    var getHtml = function (editor) {\n      var copyAndRemove = function (toElm, fromElm) {\n        toElm.appendChild(fromElm);\n        editor.dom.remove(fromElm, true);\n      };\n      var pasteBinClones = global$5.grep(getPasteBinParent(editor).childNodes, function (elm) {\n        return elm.id === 'mcepastebin';\n      });\n      var pasteBinElm = pasteBinClones.shift();\n      global$5.each(pasteBinClones, function (pasteBinClone) {\n        copyAndRemove(pasteBinElm, pasteBinClone);\n      });\n      var dirtyWrappers = editor.dom.select('div[id=mcepastebin]', pasteBinElm);\n      for (var i = dirtyWrappers.length - 1; i >= 0; i--) {\n        var cleanWrapper = editor.dom.create('div');\n        pasteBinElm.insertBefore(cleanWrapper, dirtyWrappers[i]);\n        copyAndRemove(cleanWrapper, dirtyWrappers[i]);\n      }\n      return pasteBinElm ? pasteBinElm.innerHTML : '';\n    };\n    var getLastRng = function (lastRng) {\n      return lastRng.get();\n    };\n    var isDefaultContent = function (pasteBinDefaultContent, content) {\n      return content === pasteBinDefaultContent;\n    };\n    var isPasteBin = function (elm) {\n      return elm && elm.id === 'mcepastebin';\n    };\n    var isDefault = function (editor, pasteBinDefaultContent) {\n      var pasteBinElm = getEl(editor);\n      return isPasteBin(pasteBinElm) && isDefaultContent(pasteBinDefaultContent, pasteBinElm.innerHTML);\n    };\n    var PasteBin = function (editor) {\n      var lastRng = Cell(null);\n      var pasteBinDefaultContent = '%MCEPASTEBIN%';\n      return {\n        create: function () {\n          return create(editor, lastRng, pasteBinDefaultContent);\n        },\n        remove: function () {\n          return remove(editor, lastRng);\n        },\n        getEl: function () {\n          return getEl(editor);\n        },\n        getHtml: function () {\n          return getHtml(editor);\n        },\n        getLastRng: function () {\n          return getLastRng(lastRng);\n        },\n        isDefault: function () {\n          return isDefault(editor, pasteBinDefaultContent);\n        },\n        isDefaultContent: function (content) {\n          return isDefaultContent(pasteBinDefaultContent, content);\n        }\n      };\n    };\n\n    var Clipboard = function (editor, pasteFormat) {\n      var pasteBin = PasteBin(editor);\n      editor.on('PreInit', function () {\n        return registerEventsAndFilters(editor, pasteBin, pasteFormat);\n      });\n      return {\n        pasteFormat: pasteFormat,\n        pasteHtml: function (html, internalFlag) {\n          return pasteHtml$1(editor, html, internalFlag);\n        },\n        pasteText: function (text) {\n          return pasteText(editor, text);\n        },\n        pasteImageData: function (e, rng) {\n          return pasteImageData(editor, e, rng);\n        },\n        getDataTransferItems: getDataTransferItems,\n        hasHtmlOrText: hasHtmlOrText,\n        hasContentType: hasContentType\n      };\n    };\n\n    var togglePlainTextPaste = function (editor, clipboard) {\n      if (clipboard.pasteFormat.get() === 'text') {\n        clipboard.pasteFormat.set('html');\n        firePastePlainTextToggle(editor, false);\n      } else {\n        clipboard.pasteFormat.set('text');\n        firePastePlainTextToggle(editor, true);\n      }\n      editor.focus();\n    };\n\n    var register = function (editor, clipboard) {\n      editor.addCommand('mceTogglePlainTextPaste', function () {\n        togglePlainTextPaste(editor, clipboard);\n      });\n      editor.addCommand('mceInsertClipboardContent', function (ui, value) {\n        if (value.content) {\n          clipboard.pasteHtml(value.content, value.internal);\n        }\n        if (value.text) {\n          clipboard.pasteText(value.text);\n        }\n      });\n    };\n\n    var hasWorkingClipboardApi = function (clipboardData) {\n      return global$1.iOS === false && typeof (clipboardData === null || clipboardData === void 0 ? void 0 : clipboardData.setData) === 'function';\n    };\n    var setHtml5Clipboard = function (clipboardData, html, text) {\n      if (hasWorkingClipboardApi(clipboardData)) {\n        try {\n          clipboardData.clearData();\n          clipboardData.setData('text/html', html);\n          clipboardData.setData('text/plain', text);\n          clipboardData.setData(internalHtmlMime(), html);\n          return true;\n        } catch (e) {\n          return false;\n        }\n      } else {\n        return false;\n      }\n    };\n    var setClipboardData = function (evt, data, fallback, done) {\n      if (setHtml5Clipboard(evt.clipboardData, data.html, data.text)) {\n        evt.preventDefault();\n        done();\n      } else {\n        fallback(data.html, done);\n      }\n    };\n    var fallback = function (editor) {\n      return function (html, done) {\n        var markedHtml = mark(html);\n        var outer = editor.dom.create('div', {\n          'contenteditable': 'false',\n          'data-mce-bogus': 'all'\n        });\n        var inner = editor.dom.create('div', { contenteditable: 'true' }, markedHtml);\n        editor.dom.setStyles(outer, {\n          position: 'fixed',\n          top: '0',\n          left: '-3000px',\n          width: '1000px',\n          overflow: 'hidden'\n        });\n        outer.appendChild(inner);\n        editor.dom.add(editor.getBody(), outer);\n        var range = editor.selection.getRng();\n        inner.focus();\n        var offscreenRange = editor.dom.createRng();\n        offscreenRange.selectNodeContents(inner);\n        editor.selection.setRng(offscreenRange);\n        global$2.setTimeout(function () {\n          editor.selection.setRng(range);\n          outer.parentNode.removeChild(outer);\n          done();\n        }, 0);\n      };\n    };\n    var getData = function (editor) {\n      return {\n        html: editor.selection.getContent({ contextual: true }),\n        text: editor.selection.getContent({ format: 'text' })\n      };\n    };\n    var isTableSelection = function (editor) {\n      return !!editor.dom.getParent(editor.selection.getStart(), 'td[data-mce-selected],th[data-mce-selected]', editor.getBody());\n    };\n    var hasSelectedContent = function (editor) {\n      return !editor.selection.isCollapsed() || isTableSelection(editor);\n    };\n    var cut = function (editor) {\n      return function (evt) {\n        if (hasSelectedContent(editor)) {\n          setClipboardData(evt, getData(editor), fallback(editor), function () {\n            if (global$1.browser.isChrome() || global$1.browser.isFirefox()) {\n              var rng_1 = editor.selection.getRng();\n              global$2.setEditorTimeout(editor, function () {\n                editor.selection.setRng(rng_1);\n                editor.execCommand('Delete');\n              }, 0);\n            } else {\n              editor.execCommand('Delete');\n            }\n          });\n        }\n      };\n    };\n    var copy = function (editor) {\n      return function (evt) {\n        if (hasSelectedContent(editor)) {\n          setClipboardData(evt, getData(editor), fallback(editor), noop);\n        }\n      };\n    };\n    var register$1 = function (editor) {\n      editor.on('cut', cut(editor));\n      editor.on('copy', copy(editor));\n    };\n\n    var global$b = tinymce.util.Tools.resolve('tinymce.dom.RangeUtils');\n\n    var getCaretRangeFromEvent = function (editor, e) {\n      return global$b.getCaretRangeFromPoint(e.clientX, e.clientY, editor.getDoc());\n    };\n    var isPlainTextFileUrl = function (content) {\n      var plainTextContent = content['text/plain'];\n      return plainTextContent ? plainTextContent.indexOf('file://') === 0 : false;\n    };\n    var setFocusedRange = function (editor, rng) {\n      editor.focus();\n      editor.selection.setRng(rng);\n    };\n    var setup = function (editor, clipboard, draggingInternallyState) {\n      if (shouldBlockDrop(editor)) {\n        editor.on('dragend dragover draggesture dragdrop drop drag', function (e) {\n          e.preventDefault();\n          e.stopPropagation();\n        });\n      }\n      if (!shouldPasteDataImages(editor)) {\n        editor.on('drop', function (e) {\n          var dataTransfer = e.dataTransfer;\n          if (dataTransfer && dataTransfer.files && dataTransfer.files.length > 0) {\n            e.preventDefault();\n          }\n        });\n      }\n      editor.on('drop', function (e) {\n        var rng = getCaretRangeFromEvent(editor, e);\n        if (e.isDefaultPrevented() || draggingInternallyState.get()) {\n          return;\n        }\n        var dropContent = clipboard.getDataTransferItems(e.dataTransfer);\n        var internal = clipboard.hasContentType(dropContent, internalHtmlMime());\n        if ((!clipboard.hasHtmlOrText(dropContent) || isPlainTextFileUrl(dropContent)) && clipboard.pasteImageData(e, rng)) {\n          return;\n        }\n        if (rng && shouldFilterDrop(editor)) {\n          var content_1 = dropContent['mce-internal'] || dropContent['text/html'] || dropContent['text/plain'];\n          if (content_1) {\n            e.preventDefault();\n            global$2.setEditorTimeout(editor, function () {\n              editor.undoManager.transact(function () {\n                if (dropContent['mce-internal']) {\n                  editor.execCommand('Delete');\n                }\n                setFocusedRange(editor, rng);\n                content_1 = trimHtml(content_1);\n                if (!dropContent['text/html']) {\n                  clipboard.pasteText(content_1);\n                } else {\n                  clipboard.pasteHtml(content_1, internal);\n                }\n              });\n            });\n          }\n        }\n      });\n      editor.on('dragstart', function (_e) {\n        draggingInternallyState.set(true);\n      });\n      editor.on('dragover dragend', function (e) {\n        if (shouldPasteDataImages(editor) && draggingInternallyState.get() === false) {\n          e.preventDefault();\n          setFocusedRange(editor, getCaretRangeFromEvent(editor, e));\n        }\n        if (e.type === 'dragend') {\n          draggingInternallyState.set(false);\n        }\n      });\n    };\n\n    var setup$1 = function (editor) {\n      var plugin = editor.plugins.paste;\n      var preProcess = getPreProcess(editor);\n      if (preProcess) {\n        editor.on('PastePreProcess', function (e) {\n          preProcess.call(plugin, plugin, e);\n        });\n      }\n      var postProcess = getPostProcess(editor);\n      if (postProcess) {\n        editor.on('PastePostProcess', function (e) {\n          postProcess.call(plugin, plugin, e);\n        });\n      }\n    };\n\n    var addPreProcessFilter = function (editor, filterFunc) {\n      editor.on('PastePreProcess', function (e) {\n        e.content = filterFunc(editor, e.content, e.internal, e.wordContent);\n      });\n    };\n    var addPostProcessFilter = function (editor, filterFunc) {\n      editor.on('PastePostProcess', function (e) {\n        filterFunc(editor, e.node);\n      });\n    };\n    var removeExplorerBrElementsAfterBlocks = function (editor, html) {\n      if (!isWordContent(html)) {\n        return html;\n      }\n      var blockElements = [];\n      global$5.each(editor.schema.getBlockElements(), function (block, blockName) {\n        blockElements.push(blockName);\n      });\n      var explorerBlocksRegExp = new RegExp('(?:<br>&nbsp;[\\\\s\\\\r\\\\n]+|<br>)*(<\\\\/?(' + blockElements.join('|') + ')[^>]*>)(?:<br>&nbsp;[\\\\s\\\\r\\\\n]+|<br>)*', 'g');\n      html = filter$1(html, [[\n          explorerBlocksRegExp,\n          '$1'\n        ]]);\n      html = filter$1(html, [\n        [\n          /<br><br>/g,\n          '<BR><BR>'\n        ],\n        [\n          /<br>/g,\n          ' '\n        ],\n        [\n          /<BR><BR>/g,\n          '<br>'\n        ]\n      ]);\n      return html;\n    };\n    var removeWebKitStyles = function (editor, content, internal, isWordHtml) {\n      if (isWordHtml || internal) {\n        return content;\n      }\n      var webKitStylesSetting = getWebkitStyles(editor);\n      var webKitStyles;\n      if (shouldRemoveWebKitStyles(editor) === false || webKitStylesSetting === 'all') {\n        return content;\n      }\n      if (webKitStylesSetting) {\n        webKitStyles = webKitStylesSetting.split(/[, ]/);\n      }\n      if (webKitStyles) {\n        var dom_1 = editor.dom, node_1 = editor.selection.getNode();\n        content = content.replace(/(<[^>]+) style=\"([^\"]*)\"([^>]*>)/gi, function (all, before, value, after) {\n          var inputStyles = dom_1.parseStyle(dom_1.decode(value));\n          var outputStyles = {};\n          if (webKitStyles === 'none') {\n            return before + after;\n          }\n          for (var i = 0; i < webKitStyles.length; i++) {\n            var inputValue = inputStyles[webKitStyles[i]], currentValue = dom_1.getStyle(node_1, webKitStyles[i], true);\n            if (/color/.test(webKitStyles[i])) {\n              inputValue = dom_1.toHex(inputValue);\n              currentValue = dom_1.toHex(currentValue);\n            }\n            if (currentValue !== inputValue) {\n              outputStyles[webKitStyles[i]] = inputValue;\n            }\n          }\n          outputStyles = dom_1.serializeStyle(outputStyles, 'span');\n          if (outputStyles) {\n            return before + ' style=\"' + outputStyles + '\"' + after;\n          }\n          return before + after;\n        });\n      } else {\n        content = content.replace(/(<[^>]+) style=\"([^\"]*)\"([^>]*>)/gi, '$1$3');\n      }\n      content = content.replace(/(<[^>]+) data-mce-style=\"([^\"]+)\"([^>]*>)/gi, function (all, before, value, after) {\n        return before + ' style=\"' + value + '\"' + after;\n      });\n      return content;\n    };\n    var removeUnderlineAndFontInAnchor = function (editor, root) {\n      editor.$('a', root).find('font,u').each(function (i, node) {\n        editor.dom.remove(node, true);\n      });\n    };\n    var setup$2 = function (editor) {\n      if (global$1.webkit) {\n        addPreProcessFilter(editor, removeWebKitStyles);\n      }\n      if (global$1.ie) {\n        addPreProcessFilter(editor, removeExplorerBrElementsAfterBlocks);\n        addPostProcessFilter(editor, removeUnderlineAndFontInAnchor);\n      }\n    };\n\n    var makeSetupHandler = function (editor, clipboard) {\n      return function (api) {\n        api.setActive(clipboard.pasteFormat.get() === 'text');\n        var pastePlainTextToggleHandler = function (e) {\n          return api.setActive(e.state);\n        };\n        editor.on('PastePlainTextToggle', pastePlainTextToggleHandler);\n        return function () {\n          return editor.off('PastePlainTextToggle', pastePlainTextToggleHandler);\n        };\n      };\n    };\n    var register$2 = function (editor, clipboard) {\n      editor.ui.registry.addToggleButton('pastetext', {\n        active: false,\n        icon: 'paste-text',\n        tooltip: 'Paste as text',\n        onAction: function () {\n          return editor.execCommand('mceTogglePlainTextPaste');\n        },\n        onSetup: makeSetupHandler(editor, clipboard)\n      });\n      editor.ui.registry.addToggleMenuItem('pastetext', {\n        text: 'Paste as text',\n        icon: 'paste-text',\n        onAction: function () {\n          return editor.execCommand('mceTogglePlainTextPaste');\n        },\n        onSetup: makeSetupHandler(editor, clipboard)\n      });\n    };\n\n    function Plugin () {\n      global.add('paste', function (editor) {\n        if (hasProPlugin(editor) === false) {\n          var draggingInternallyState = Cell(false);\n          var pasteFormat = Cell(isPasteAsTextEnabled(editor) ? 'text' : 'html');\n          var clipboard = Clipboard(editor, pasteFormat);\n          var quirks = setup$2(editor);\n          register$2(editor, clipboard);\n          register(editor, clipboard);\n          setup$1(editor);\n          register$1(editor);\n          setup(editor, clipboard, draggingInternallyState);\n          return get(clipboard, quirks);\n        }\n      });\n    }\n\n    Plugin();\n\n}());\n"],"sourceRoot":""}